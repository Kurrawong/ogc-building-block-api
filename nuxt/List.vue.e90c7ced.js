import{h as B,l as R,i as m,o as s,c as l,t as i,g as n,m as u,b,w as h,d as L,j as g,a as v,F as p,n as k,_ as V,s as q,r as y,v as z,f as D,x as S}from"./entry.28982f2f.js";import{a as j}from"./str.0b61149f.js";import{a as E}from"./Loading.vue.d2a17020.js";import{u as U}from"./rdf.5e71285a.js";const I={style:{position:"relative"}},M={key:0,class:"text-h3 mb-5 mt-2"},O={style:{"white-space":"nowrap"}},x=["href","title"],A={key:1},G=["onClick"],J=["title"],K=B({__name:"List",props:{list:{},headerTitle:{},excludeFields:{},fields:{},info:{type:Boolean},links:{}},setup(C){const a=C,d=a.fields?a.fields:Object.keys(a.list.listHeaders);return a.excludeFields&&a.excludeFields,R(),(t,w)=>{const _=m("v-chip"),f=m("v-icon"),c=m("v-table"),F=m("v-chip-group");return s(),l("div",I,[t.headerTitle&&t.list?(s(),l("div",M,i(n(j)(t.headerTitle,t.list)),1)):u("",!0),b(_,{variant:"flat",style:{position:"absolute",right:"0",top:"0"}},{default:h(()=>[L(i(t.list.header.label),1)]),_:1}),t.list?(s(),g(c,{key:1,theme:"dark"},{default:h(()=>[v("thead",null,[v("tr",null,[(s(!0),l(p,null,k(n(d),e=>(s(),l("th",O,[L(i(e in t.list.listHeaders?t.list.listHeaders[e].label:`${e} missing`)+" Â ",1),e in t.list.listHeaders?(s(),l("a",{key:0,href:t.list.listHeaders[e].iri,title:e},[b(f,{icon:"mdi-link"})],8,x)):u("",!0),t.info?(s(),l("div",A,i(e),1)):u("",!0)]))),256))])]),v("tbody",null,[(s(!0),l(p,null,k(t.list.list,e=>(s(),l("tr",{onClick:o=>t.$router.push(e["prez:link"])},[(s(!0),l(p,null,k(n(d),o=>(s(),l("td",null,[v("div",{title:o in e?e[o]:null,class:"td-max"},i(o in e?e[o]:`"${o}" not found`),9,J)]))),256))],8,G))),256))])]),_:1})):u("",!0),t.links?(s(),g(F,{key:2},{default:h(()=>[(s(!0),l(p,null,k(t.links.filter(e=>e.title),e=>(s(),g(_,null,{default:h(()=>[L(i(e.title),1)]),_:2},1024))),256))]),_:1})):u("",!0)])}}});const P=V(K,[["__scopeId","data-v-f59d8ffd"]]),ee=B({__name:"List",props:{dataUrl:{},headerTitle:{},excludeFields:{},fields:{},info:{type:Boolean}},setup(C){const a=C,d=U(),{loading:t,success:w,error:_,prez:f}=q(d),c=y(null),F=y(1),e=y(void 0);z(async()=>{await H()});const o=D(),$=y(o.query);S(()=>$.value=o.query,()=>{});async function H(){if(await d.load(a.dataUrl,{params:{page:F.value}}),w.value)try{c.value=null,e.value=f.value.list(["skos:prefLabel","rdfs:label"])}catch(r){c.value=r.message}}return(r,Q)=>{const N=P,T=E;return s(),l(p,null,[n(e)?(s(),g(N,{key:0,"header-title":r.headerTitle,list:n(e),fields:r.fields,"exclude-fields":r.excludeFields,info:r.info,links:n(f).headerLinks},null,8,["header-title","list","fields","exclude-fields","info","links"])):u("",!0),b(T,{loading:n(t),error:n(_)},null,8,["loading","error"]),b(T,{loading:!1,error:n(c)},null,8,["error"])],64)}}});export{ee as _};
